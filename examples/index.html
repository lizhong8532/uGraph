<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Editor</title>

	<style type="text/css">
		html, body {
			height:  100%;
		}
		#graph {
			width: 100%;
			height: 100%;
			border: 1px solid #CCC;
		}
	</style>

  <script src="../dist/ugraph.js"></script>
</head>
<body>
	<div id="graph"></div>

	<script>

		var random = function (min, max) {
			return Number(min) + Math.floor(Math.random() * (Number(max) - Number(min)))
		};

	  window.onload = function () {
	  	// Init graph
	    var graph = new Graph(document.querySelector('#graph'));

	    // Definition JSON data
		  var json = {

		  	// Nodes
		  	nodes: [
				  {
				  	x: 100,
					  y: 100,
					  width: 300,
					  height: 200,

					  // TODO Need provide getShapesName function of Graph
					  // Shape view call the function graph.getShapesName
					  shape: 'rect'
				  },

				  {
					  x: 200,
					  y: 300,
					  width: 500,
					  height: 300,

					  // TODO Need provide getShapesName function of Graph
					  // Shape view call the function graph.getShapesName
					  shape: 'circle'
				  }
			  ]
		  };

			(function () {
				var nodes = [];
				var maxWidth = document.body.clientWidth;
				var maxHeight = document.body.clientHeight;
				var nodeMax = 100;
				var nodeMin = 10;
				for (var i = 0; i < 50000; i++) {
					nodes.push({
						x: random(0, maxWidth - nodeMax),
						y: random(0, maxHeight - nodeMax),
						width: random(nodeMin, nodeMax),
						height: random(nodeMin, nodeMax),
						shape: random(0, 10) > 5 ? 'circle' : 'rect',
						// style: 'fillColor'
					});
				}

				json.nodes = nodes;				
			})();

		  // Load text json format
		  graph.loadJson(JSON.stringify(json));

		  // Render graph
		  graph.render();

		  window.graph = graph;
	  };
	</script>
</body>
</html>
